<link href="https://cdn.jsdelivr.net/npm/bootstrap-table@1.22.3/dist/bootstrap-table.min.css" rel="stylesheet">

<script src="https://cdn.jsdelivr.net/npm/bootstrap-table@1.22.3/dist/bootstrap-table.min.js"></script>

<script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>

<!-- Include jQuery -->
<script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
<!-- Include Bootstrap's JavaScript -->
<script src="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/js/bootstrap.min.js"></script>
<!-- Include Bootstrap Table JavaScript -->
<script src="https://cdn.jsdelivr.net/npm/bootstrap-table@1.22.3/dist/bootstrap-table.min.js"></script>

<table
  id="table"
  data-toggle="table"
  data-height="460"
  data-click-to-select="true"
  data-url="https://lmms-lab.github.io/lmms-eval-blog/assets/json/datasets.json">
  <thead>
    <tr>
      <th data-field="state" data-checkbox="true"></th>
      <th data-field="Name">Name</th>
      <th data-field="ID">ID</th>
    </tr>
  </thead>
</table>

<div id="selectedIdsDisplay"></div>

<script>
  $(document).ready(function() {
    var selectedIds = [];

    $('#table').on('check.bs.table uncheck.bs.table check-all.bs.table uncheck-all.bs.table', function (e, row) {
      var id = row.ID; // 假设每行的ID字段是'ID'
      if (e.type === 'check' || e.type === 'check-all') {
        if (!selectedIds.includes(id)) { // 避免重复添加
          selectedIds.push(id);
        }
      } else {
        selectedIds = selectedIds.filter(function(value) { return value !== id; });
      }

      // 将选中的ID用逗号连接起来，并显示在页面元素中
      document.getElementById('selectedIdsDisplay').textContent = selectedIds.join(',');
    });
  });
</script>